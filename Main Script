---------------------------------------------------
-- ðŸ§± BRD SCRIPTS â€“ Spooky Halloween UI (Final Version)
---------------------------------------------------
local TweenService = game:GetService("TweenService")
local TextService = game:GetService("TextService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- Cleanup previous UI if re-executed
if PlayerGui:FindFirstChild("UOStyledUI") then
	PlayerGui.UOStyledUI:Destroy()
end

-- Screen GUI
local gui = Instance.new("ScreenGui")
gui.Name = "UOStyledUI"
gui.ResetOnSpawn = false
gui.Parent = PlayerGui

-- Loading alert (top-center)
local loadingAlert = Instance.new("TextLabel")
loadingAlert.Size = UDim2.new(0, 300, 0, 28)
loadingAlert.Position = UDim2.new(0.5, -150, 0, 10)
loadingAlert.BackgroundColor3 = Color3.fromRGB(40, 20, 0)
loadingAlert.BackgroundTransparency = 0.2
loadingAlert.Text = "BRD SCRIPTS Loading... Please Wait"
loadingAlert.TextColor3 = Color3.fromRGB(255, 140, 0)
loadingAlert.TextSize = 16
loadingAlert.Font = Enum.Font.GothamBold
loadingAlert.ZIndex = 100
loadingAlert.Parent = gui
Instance.new("UICorner", loadingAlert).CornerRadius = UDim.new(0, 6)

-- Tween out after 3 seconds
delay(3, function()
	TweenService:Create(loadingAlert, TweenInfo.new(0.3), {BackgroundTransparency = 1, TextTransparency = 1}):Play()
	wait(0.35)
	loadingAlert:Destroy()
end)

-- Delay creation of buttons to match alert
delay(3, function()
	-- Toggle + Abort frame background (top-right)
	local buttonBg = Instance.new("Frame")
	buttonBg.Size = UDim2.new(0, 120, 0, 40)
	buttonBg.Position = UDim2.new(1, -10, 0, 10)
	buttonBg.AnchorPoint = Vector2.new(1, 0)
	buttonBg.BackgroundColor3 = Color3.fromRGB(30, 10, 0)
	buttonBg.BackgroundTransparency = 0.25
	buttonBg.ZIndex = 50
	buttonBg.Parent = gui
	Instance.new("UICorner", buttonBg).CornerRadius = UDim.new(0, 8)

	-- Toggle button
	local toggleBtn = Instance.new("TextButton")
	toggleBtn.Size = UDim2.new(0, 50, 0, 30)
	toggleBtn.Position = UDim2.new(0, 60, 0, 5)
	toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
	toggleBtn.Text = "â˜°"
	toggleBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
	toggleBtn.Font = Enum.Font.GothamBold
	toggleBtn.TextSize = 18
	toggleBtn.ZIndex = 51
	toggleBtn.Parent = buttonBg
	Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 6)
	local toggleScale = Instance.new("UIScale", toggleBtn)
	local toggleGlow = Instance.new("UIStroke", toggleBtn)
	toggleGlow.Color = Color3.fromRGB(255, 165, 0)
	toggleGlow.Thickness = 1
	toggleGlow.Transparency = 0.4

	-- Abort button
	local abortBtn = Instance.new("TextButton")
	abortBtn.Size = UDim2.new(0, 50, 0, 30)
	abortBtn.Position = UDim2.new(0, 5, 0, 5)
	abortBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
	abortBtn.Text = "Abort"
	abortBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	abortBtn.Font = Enum.Font.GothamBold
	abortBtn.TextSize = 14
	abortBtn.ZIndex = 51
	abortBtn.Parent = buttonBg
	Instance.new("UICorner", abortBtn).CornerRadius = UDim.new(0, 6)
	local abortGlow = Instance.new("UIStroke", abortBtn)
	abortGlow.Color = Color3.fromRGB(255, 60, 60)
	abortGlow.Thickness = 1
	abortGlow.Transparency = 0.3

	-- Button hover/tap effects
	for _, btn in ipairs({toggleBtn, abortBtn}) do
		btn.MouseEnter:Connect(function()
			TweenService:Create(btn, TweenInfo.new(0.15), {BackgroundTransparency = 0.1}):Play()
		end)
		btn.MouseLeave:Connect(function()
			TweenService:Create(btn, TweenInfo.new(0.15), {BackgroundTransparency = 0.25}):Play()
		end)
		btn.MouseButton1Down:Connect(function()
			TweenService:Create(btn:FindFirstChildOfClass("UIScale") or Instance.new("UIScale", btn), TweenInfo.new(0.1), {Scale = 0.95}):Play()
		end)
		btn.MouseButton1Up:Connect(function()
			TweenService:Create(btn:FindFirstChildOfClass("UIScale") or Instance.new("UIScale", btn), TweenInfo.new(0.1), {Scale = 1}):Play()
		end)
	end

	-- Menu frame
	local menu = Instance.new("Frame")
	menu.Size = UDim2.new(0, 210, 0, 300)
	menu.Position = UDim2.new(0.5, -105, 0.5, -150)
	menu.BackgroundColor3 = Color3.fromRGB(30, 15, 0)
	menu.BackgroundTransparency = 0.35
	menu.Visible = false
	menu.Active = true
	menu.Draggable = true
	menu.ZIndex = 10
	menu.Parent = gui
	Instance.new("UICorner", menu).CornerRadius = UDim.new(0, 12)

	-- Shadow behind menu
	local shadow = Instance.new("Frame")
	shadow.Size = menu.Size
	shadow.Position = menu.Position + UDim2.new(0, 2, 0, 2)
	shadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	shadow.BackgroundTransparency = 0.6
	shadow.ZIndex = 5
	shadow.Visible = false
	shadow.Parent = gui
	Instance.new("UICorner", shadow).CornerRadius = UDim.new(0, 12)

	menu:GetPropertyChangedSignal("Position"):Connect(function()
		shadow.Position = menu.Position + UDim2.new(0, 2, 0, 2)
	end)
	menu:GetPropertyChangedSignal("Size"):Connect(function()
		shadow.Size = menu.Size
	end)

	-- Header gradient
	local titleBar = Instance.new("Frame")
	titleBar.Size = UDim2.new(1, 0, 0, 50)
	titleBar.ZIndex = 11
	titleBar.Parent = menu
	local uiGradient = Instance.new("UIGradient", titleBar)
	uiGradient.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 120, 0)), ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 0, 0))})
	Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 12)

	local titleText = Instance.new("TextLabel")
	titleText.Size = UDim2.new(1, 0, 0.6, 0)
	titleText.Position = UDim2.new(0, 0, 0, 0)
	titleText.BackgroundTransparency = 1
	titleText.Text = "BRD SCRIPTS"
	titleText.TextColor3 = Color3.fromRGB(255, 180, 0)
	titleText.TextSize = 18
	titleText.Font = Enum.Font.GothamBold
	titleText.ZIndex = 12
	titleText.Parent = titleBar

	local subtitleText = Instance.new("TextLabel")
	subtitleText.Size = UDim2.new(1, 0, 0.4, 0)
	subtitleText.Position = UDim2.new(0, 0, 0.6, 0)
	subtitleText.BackgroundTransparency = 1
	subtitleText.Text = "Halloween Update"
	subtitleText.TextColor3 = Color3.fromRGB(255, 200, 0)
	subtitleText.TextSize = 14
	subtitleText.Font = Enum.Font.GothamBold
	subtitleText.ZIndex = 12
	subtitleText.Parent = titleBar

	-- Minimize button (top-right of menu)
	local minimizeBtn = Instance.new("TextButton")
	minimizeBtn.Size = UDim2.new(0, 24, 0, 24)
	minimizeBtn.Position = UDim2.new(1, -30, 0, 2)
	minimizeBtn.BackgroundColor3 = Color3.fromRGB(255, 120, 0)
	minimizeBtn.BackgroundTransparency = 0.25
	minimizeBtn.Text = "â€“"
	minimizeBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
	minimizeBtn.TextSize = 16
	minimizeBtn.Font = Enum.Font.GothamBold
	minimizeBtn.ZIndex = 12
	minimizeBtn.Parent = titleBar
	Instance.new("UICorner", minimizeBtn).CornerRadius = UDim.new(0, 6)
	local minGlow = Instance.new("UIStroke", minimizeBtn)
	minGlow.Color = Color3.fromRGB(255, 180, 0)
	minGlow.Transparency = 0.3

	-- Search box
	local searchBox = Instance.new("TextBox")
	searchBox.Size = UDim2.new(1, -20, 0, 25)
	searchBox.Position = UDim2.new(0, 10, 0, 55)
	searchBox.PlaceholderText = "Search..."
	searchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
	searchBox.BackgroundColor3 = Color3.fromRGB(50, 25, 0)
	searchBox.BackgroundTransparency = 0.4
	searchBox.TextSize = 14
	searchBox.Font = Enum.Font.Gotham
	searchBox.ZIndex = 11
	searchBox.Parent = menu
	Instance.new("UICorner", searchBox).CornerRadius = UDim.new(0, 8)

	-- Scroll frame
	local scrollFrame = Instance.new("ScrollingFrame")
	scrollFrame.Position = UDim2.new(0, 10, 0, 85)
	scrollFrame.Size = UDim2.new(1, -20, 1, -95)
	scrollFrame.BackgroundTransparency = 1
	scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
	scrollFrame.ScrollBarThickness = 6
	scrollFrame.ScrollBarImageColor3 = Color3.fromRGB(255, 165, 0)
	scrollFrame.ScrollBarImageTransparency = 1 -- initially hidden
	scrollFrame.ZIndex = 11
	scrollFrame.Parent = menu

	local listLayout = Instance.new("UIListLayout", scrollFrame)
	listLayout.Padding = UDim.new(0, 6)
	listLayout.SortOrder = Enum.SortOrder.LayoutOrder

	-- Buttons definitions
	local buttonLabels = {"Infinite Yield","Shaders","Baseplate","Superman Fly","Face Bang,"suz.wtf"}
	local buttonDescriptions = {"Executes Infinite Yield Script","Shader Toggle","Extended Baseplate Toggle","Executes Superman Fly Script","Executes Face Bang Script","suz.wtf Reanimation Script}
	local buttonFunctions = {
		function() loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))() end,
		function() loadstring(game:HttpGet("https://raw.githubusercontent.com/bluevsgreenmodz-ctrl/brd_scripts/refs/heads/main/Shaders"))() end,
		function() loadstring(game:HttpGet("https://raw.githubusercontent.com/bluevsgreenmodz-ctrl/brd_scripts/refs/heads/main/baseplate"))() end,
		function() loadstring(game:HttpGet("https://raw.githubusercontent.com/bluevsgreenmodz-ctrl/brd_scripts/refs/heads/main/supermanfly"))() end,
		function() loadstring(game:HttpGet("https://raw.githubusercontent.com/bluevsgreenmodz-ctrl/brd_scripts/refs/heads/main/facebang"))() end,
		function() loadstring(game:HttpGet("https://suz.wtf/script.lua"))() end
	}

	-- Tooltip
	local tooltip = Instance.new("TextLabel")
	tooltip.Size = UDim2.new(0, 100, 0, 24)
	tooltip.BackgroundColor3 = Color3.fromRGB(40, 20, 0)
	tooltip.BackgroundTransparency = 0.4
	tooltip.TextColor3 = Color3.fromRGB(255, 255, 255)
	tooltip.TextSize = 14
	tooltip.Font = Enum.Font.Gotham
	tooltip.Visible = false
	tooltip.ZIndex = 20
	tooltip.Parent = gui
	Instance.new("UICorner", tooltip).CornerRadius = UDim.new(0, 6)

	RunService.RenderStepped:Connect(function()
		if tooltip.Visible then
			local mouse = Player:GetMouse()
			local newX = math.min(mouse.X + 15, workspace.CurrentCamera.ViewportSize.X - tooltip.Size.X.Offset)
			local newY = math.min(mouse.Y + 15, workspace.CurrentCamera.ViewportSize.Y - tooltip.Size.Y.Offset)
			tooltip.Position = UDim2.new(0, newX, 0, newY)
		end
	end)

	local function updateTooltipText(text)
		tooltip.Text = text
		tooltip.Visible = true
		local textSize = TextService:GetTextSize(text, tooltip.TextSize, tooltip.Font, Vector2.new(1000, math.huge))
		local newWidth = math.clamp(textSize.X + 10, 80, 300)
		local newHeight = math.clamp(textSize.Y + 6, 20, 100)
		TweenService:Create(tooltip, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Size = UDim2.new(0, newWidth, 0, newHeight)}):Play()
	end

	-- Create buttons in scroll frame
	local buttons = {}
	for i = 1, #buttonLabels do
		local btn = Instance.new("TextButton")
		btn.Size = UDim2.new(0, scrollFrame.AbsoluteSize.X, 0, 28)
		btn.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
		btn.BackgroundTransparency = 0.25
		btn.TextColor3 = Color3.fromRGB(0, 0, 0)
		btn.Text = buttonLabels[i]
		btn.TextSize = 14
		btn.Font = Enum.Font.Gotham
		btn.ZIndex = 12
		btn.Parent = scrollFrame
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
		local scale = Instance.new("UIScale", btn)

		btn.MouseEnter:Connect(function()
			TweenService:Create(btn, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(255, 165, 0)}):Play()
			updateTooltipText(buttonDescriptions[i])
		end)
		btn.MouseLeave:Connect(function()
			TweenService:Create(btn, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(255, 140, 0)}):Play()
			tooltip.Visible = false
		end)
		btn.MouseButton1Down:Connect(function()
			TweenService:Create(scale, TweenInfo.new(0.1), {Scale = 0.95}):Play()
		end)
		btn.MouseButton1Up:Connect(function()
			TweenService:Create(scale, TweenInfo.new(0.1), {Scale = 1}):Play()
		end)
		btn.MouseButton1Click:Connect(buttonFunctions[i])
		table.insert(buttons, btn)
	end

	-- Scroll frame auto-resize
	listLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		scrollFrame.CanvasSize = UDim2.new(0, 0, 0, listLayout.AbsoluteContentSize.Y)
		local showScroll = listLayout.AbsoluteContentSize.Y > scrollFrame.AbsoluteSize.Y
		for _, btn in ipairs(scrollFrame:GetChildren()) do
			if btn:IsA("TextButton") then
				local targetWidth = showScroll and scrollFrame.AbsoluteSize.X - 10 or scrollFrame.AbsoluteSize.X
				TweenService:Create(btn, TweenInfo.new(0.1), {Size = UDim2.new(0, targetWidth, 0, 28)}):Play()
			end
		end
	end)

	-- Menu toggle logic
	local uiVisible = false
	local minimized = false
	local FADE_TIME_MENU = 0.2
	local FADE_TIME_ELEMENTS = 0.1

	local function setMenuVisible(visible)
		if visible then
			menu.Visible = true
			shadow.Visible = true
			searchBox.Visible = true
			TweenService:Create(menu, TweenInfo.new(FADE_TIME_MENU), {BackgroundTransparency = 0.35}):Play()
			TweenService:Create(shadow, TweenInfo.new(FADE_TIME_MENU), {BackgroundTransparency = 0.6}):Play()
			TweenService:Create(titleBar, TweenInfo.new(FADE_TIME_ELEMENTS), {BackgroundTransparency = 0}):Play()
			TweenService:Create(titleText, TweenInfo.new(FADE_TIME_ELEMENTS), {TextTransparency = 0}):Play()
			TweenService:Create(subtitleText, TweenInfo.new(FADE_TIME_ELEMENTS), {TextTransparency = 0}):Play()
			TweenService:Create(searchBox, TweenInfo.new(FADE_TIME_ELEMENTS), {BackgroundTransparency = 0.4, TextTransparency = 0}):Play()
			TweenService:Create(scrollFrame, TweenInfo.new(FADE_TIME_ELEMENTS), {ScrollBarImageTransparency = 0}):Play()
			for _, btn in ipairs(buttons) do
				TweenService:Create(btn, TweenInfo.new(FADE_TIME_ELEMENTS), {BackgroundTransparency = 0.25, TextTransparency = 0}):Play()
			end
		else
			TweenService:Create(menu, TweenInfo.new(FADE_TIME_MENU), {BackgroundTransparency = 1}):Play()
			TweenService:Create(shadow, TweenInfo.new(FADE_TIME_MENU), {BackgroundTransparency = 1}):Play()
			TweenService:Create(titleBar, TweenInfo.new(FADE_TIME_ELEMENTS), {BackgroundTransparency = 1}):Play()
			TweenService:Create(titleText, TweenInfo.new(FADE_TIME_ELEMENTS), {TextTransparency = 1}):Play()
			TweenService:Create(subtitleText, TweenInfo.new(FADE_TIME_ELEMENTS), {TextTransparency = 1}):Play()
			TweenService:Create(searchBox, TweenInfo.new(FADE_TIME_ELEMENTS), {BackgroundTransparency = 1, TextTransparency = 1}):Play()
			TweenService:Create(scrollFrame, TweenInfo.new(FADE_TIME_ELEMENTS), {ScrollBarImageTransparency = 1}):Play()
			for _, btn in ipairs(buttons) do
				TweenService:Create(btn, TweenInfo.new(FADE_TIME_ELEMENTS), {BackgroundTransparency = 1, TextTransparency = 1}):Play()
			end
			delay(FADE_TIME_MENU, function()
				menu.Visible = false
				shadow.Visible = false
				searchBox.Visible = false
			end)
		end
	end

	toggleBtn.MouseButton1Click:Connect(function()
		uiVisible = not uiVisible
		if minimized then minimized = false end
		setMenuVisible(uiVisible)
	end)

	abortBtn.MouseButton1Click:Connect(function()
		gui:Destroy()
	end)

	-- Minimize/restore
	minimizeBtn.MouseButton1Click:Connect(function()
		if minimized then
			-- restore
			minimized = false
			TweenService:Create(menu, TweenInfo.new(0.25), {Size = UDim2.new(0, 210, 0, 300)}):Play()
			searchBox.Visible = true
			scrollFrame.Visible = true
		else
			-- minimize
			minimized = true
			TweenService:Create(menu, TweenInfo.new(0.25), {Size = UDim2.new(0, 210, 0, 50)}):Play()
			searchBox.Visible = false
			scrollFrame.Visible = false
		end
	end)
end)
